(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(85)}])},85:function(e,n,l){"use strict";l.r(n);var t=l(5893),o=l(7294),s=l(2729),r=l.n(s);let a=()=>{let[e,n]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[l,s]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],i=e.some(e=>e.some(e=>0!==e)),c=e.some((e,n)=>e.some((e,t)=>1===e&&1===l[n][t])),[_,d]=(0,o.useState)(0);(0,o.useEffect)(()=>{let e;return i&&(e=setInterval(()=>{d(e=>e+1)},1e3)),c&&clearInterval(e),()=>{clearInterval(e)}},[i,c]);let f=e=>"".concat(e%60,"秒"),m=e.flat().filter(e=>1===e).length,x=e.flat().filter(e=>3===e).length,h=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],g=(e,n)=>{let t=0;for(let[o,s]of h){let r=e+o,a=n+s;r>=0&&r<l[0].length&&a>=0&&a<l.length&&1===l[r][a]&&t++}if(a[e][n]=t,0===t)for(let[t,o]of h){let s=e+t,r=n+o;s>=0&&s<l[0].length&&r>=0&&r<l.length&&-1===a[s][r]&&g(s,r)}},u=!1,v=!1,b=()=>{for(let n=0;n<e.length;n++)for(let t=0;t<e[n].length;t++)1===e[n][t]?(1===l[n][t]&&(a[n][t]=11,u=!0,a.forEach((e,n)=>e.forEach((e,t)=>{1===l[n][t]&&(a[n][t]=11)})),console.log("ゲームオーバー")),0===l[n][t]&&g(n,t)):3===e[n][t]?a[n][t]=10:a.some(e=>e.includes(-1))||(v=!0);return a};b();let j=0===e.flat().filter(e=>1===e).length,N=(t,o)=>{console.log(t,o);for(let n=0;n<e.length;n++)for(let l=0;l<e[n].length;l++)if(11===a[n][l]||a.every(e=>e.every(e=>-1!==e)))return;let r=[...e];if(r[t][o]=1,n(r),console.log("ターン変わった！"),console.log("userInput↓"),console.table(e),j){let e=[...l],n=0;for(;n<10;){let l=Math.floor(9*Math.random()),r=Math.floor(9*Math.random());l!==t&&r!==o&&1!==e[l][r]&&(e[l][r]=1,n++),s(e)}}console.log("BombMap↓"),console.table(l),b(),console.log("board↓"),console.table(a)},p=(l,t,o)=>{l.preventDefault();for(let n=0;n<e.length;n++)for(let l=0;l<e[n].length;l++)if(11===a[n][l])return;let s=[...e];0===s[t][o]?s[t][o]=3:3===s[t][o]&&(s[t][o]=0),n(s)};return(0,t.jsxs)("div",{className:r().container,children:[(0,t.jsx)("div",{children:i&&!c&&(0,t.jsxs)("div",{children:["Time: ",f(_)]})}),u&&(0,t.jsx)("div",{className:r().gameover,children:(0,t.jsx)("div",{children:(0,t.jsxs)("p",{children:["ゲームオーバー",(0,t.jsx)("br",{}),"時間:",f(_),(0,t.jsx)("br",{}),"クリック数：",m," + ",x]})})}),v&&(0,t.jsx)("div",{className:r().gamewin,children:(0,t.jsx)("div",{children:(0,t.jsxs)("p",{children:["おめでとう！",(0,t.jsx)("br",{}),"時間:○○秒 ",(0,t.jsx)("br",{}),"クリック数:",m," + ",x]})})}),(0,t.jsx)("div",{className:r().board,children:a.map((e,n)=>e.map((e,l)=>(0,t.jsxs)("div",{className:r().cell,onClick:()=>N(n,l),onContextMenu:e=>p(e,n,l),children:[-1===e&&(0,t.jsx)("div",{className:r().stone}),0===e&&(0,t.jsx)("div",{className:r().stone0,style:{}}),e>0&&e<9&&(0,t.jsx)("div",{className:r().number,style:{backgroundPosition:-30*e+30}}),10===e&&(0,t.jsx)("div",{className:r().flag}),11===e&&(0,t.jsx)("div",{className:r().bom})]},"".concat(n,"-").concat(l))))})]})};n.default=a},2729:function(e){e.exports={container:"index_container__gnN1f",timer:"index_timer__azvpY",timer1:"index_timer1__FTNBs",gameover:"index_gameover__2nrQv",gamewin:"index_gamewin__4k7yS",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ",stone:"index_stone__oeDmm",number:"index_number__l0yF_",stone0:"index_stone0__GU0r7",bom:"index_bom__ERRzB",flag:"index_flag__Bsg_z",hoge:"index_hoge__UVxRa"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);