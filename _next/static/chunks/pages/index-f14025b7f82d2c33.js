(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,l,n){"use strict";n.r(l);var t=n(5893),s=n(7294),o=n(2729),a=n.n(o);let i=()=>{let[e,l]=(0,s.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[n,o]=(0,s.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),i=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],r=e.some(e=>e.some(e=>0!==e)),c=e.some((e,l)=>e.some((e,t)=>1===e&&1===n[l][t])),[d,_]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e;return r&&(e=setInterval(()=>{_(e=>e+1)},1e3)),c&&clearInterval(e),()=>{clearInterval(e)}},[r,c]);let f=e=>"".concat(Math.floor(e/60),":").concat(e%60),x=e.flat().filter(e=>1===e).length,m=e.flat().filter(e=>3===e).length,h=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],g=(e,l)=>{let t=0;for(let[s,o]of h){let a=e+s,i=l+o;a>=0&&a<n[0].length&&i>=0&&i<n.length&&1===n[a][i]&&t++}if(i[e][l]=t,0===t)for(let[t,s]of h){let o=e+t,a=l+s;o>=0&&o<n[0].length&&a>=0&&a<n.length&&-1===i[o][a]&&g(o,a)}},u=!1,v=!1,j=()=>{for(let l=0;l<e.length;l++)for(let t=0;t<e[l].length;t++)1===e[l][t]?(1===n[l][t]&&(i[l][t]=11,u=!0,i.forEach((e,l)=>e.forEach((e,t)=>{1===n[l][t]&&(i[l][t]=11)})),console.log("ゲームオーバー")),0===n[l][t]&&g(l,t)):3===e[l][t]&&(i[l][t]=10),i.some(e=>e.includes(-1))||(v=!0);return i};j();let b=0===e.flat().filter(e=>1===e).length,N=(t,s)=>{console.log(t,s);for(let l=0;l<e.length;l++)for(let n=0;n<e[l].length;n++)if(11===i[l][n]||!i.some(e=>e.includes(-1)))return;let a=[...e];if(a[t][s]=1,l(a),console.log("ターン変わった！"),console.log("userInput↓"),console.table(e),b){let e=[...n],l=0;for(;l<10;){let n=Math.floor(9*Math.random()),a=Math.floor(9*Math.random());n!==t&&a!==s&&1!==e[n][a]&&(e[n][a]=1,l++),o(e)}}console.log("BombMap↓"),console.table(n),j(),console.log("board↓"),console.table(i)},p=(n,t,s)=>{n.preventDefault();for(let l=0;l<e.length;l++)for(let n=0;n<e[l].length;n++)if(11===i[l][n]||!i.some(e=>e.includes(-1)))return;let o=[...e];0===o[t][s]?o[t][s]=3:3===o[t][s]&&(o[t][s]=0),l(o)},w=()=>{l([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),o([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]])};return(0,t.jsxs)("div",{className:a().container,children:[(0,t.jsxs)("div",{className:a().center,children:[(0,t.jsxs)("div",{className:a().top,children:[(0,t.jsx)("div",{className:a().left,children:10-m}),(0,t.jsx)("div",{className:a().between,onClick:()=>w}),(0,t.jsx)("div",{className:a().timelog,children:(0,t.jsx)("div",{children:f(d)})})]}),(0,t.jsx)("div",{className:a().board,children:i.map((e,l)=>e.map((e,n)=>(0,t.jsxs)("div",{className:a().cell,onClick:()=>N(l,n),onContextMenu:e=>p(e,l,n),children:[-1===e&&(0,t.jsx)("div",{className:a().stone}),0===e&&(0,t.jsx)("div",{className:a().stone0,style:{}}),e>0&&e<9&&(0,t.jsx)("div",{className:a().number,style:{backgroundPosition:-30*e+30}}),10===e&&(0,t.jsx)("div",{className:a().flag}),11===e&&(0,t.jsx)("div",{className:a().bom})]},"".concat(l,"-").concat(n))))})]}),(0,t.jsxs)("div",{className:a().rilog,children:[u&&(0,t.jsx)("div",{className:a().gameover,children:(0,t.jsx)("div",{children:(0,t.jsxs)("p",{children:["ゲームオーバー",(0,t.jsx)("br",{}),"時間:",f(d),(0,t.jsx)("br",{}),"クリック数：",x," + ",m]})})}),v&&(0,t.jsx)("div",{className:a().gamewin,children:(0,t.jsx)("div",{children:(0,t.jsxs)("p",{children:["おめでとう！",(0,t.jsx)("br",{}),"時間:",f(d)," ",(0,t.jsx)("br",{}),"クリック数:",x," + ",m]})})})]})]})};l.default=i},2729:function(e){e.exports={container:"index_container__gnN1f",center:"index_center__CCiNa",top:"index_top__uMqHF",left:"index_left__OQaUt",between:"index_between__fFAMt",timelog:"index_timelog___gLIh",rilog:"index_rilog__dB4d8",gameover:"index_gameover__2nrQv",gamewin:"index_gamewin__4k7yS",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ",stone:"index_stone__oeDmm",number:"index_number__l0yF_",stone0:"index_stone0__GU0r7",bom:"index_bom__ERRzB",flag:"index_flag__Bsg_z",hoge:"index_hoge__UVxRa"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);